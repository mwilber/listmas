<ons-page ng-controller="GroceryListCtrl">

    <ons-toolbar>
        <div class="left">
            <ons-toolbar-button ng-click="GoBack();"><ons-icon icon="chevron-left"></ons-icon></ons-toolbar-button>    
        </div>
        <div class="center">{{shoplistName}}</div>
        <div class="right">
            <ons-toolbar-button ng-click="DoShare();" ng-if="shareStatus"><ons-icon icon="share-alt"></ons-icon></ons-toolbar-button>
        </div>
    </ons-toolbar>
    
    <ons-modal var="malt">
        <div class="dialog">
            <p>No product information could be found. Would you like to take a picture instead?</p>
            <ons-button class="control-btn" ng-click="GetPhoto()"><ons-icon icon="camera"></ons-icon></ons-button>
            <ons-button class="control-btn close-btn" onclick="malt.hide()"><ons-icon icon="times"></ons-icon></ons-button>
        </div>
    </ons-modal>
    
    <ons-modal var="mdelete">
        <div class="dialog">
            <p>Do you want to delete the item: <strong>{{prodDeleteName}}</strong>?</p>
            <ons-button class="control-btn delete-btn" ng-click="DeleteGrocery()"><ons-icon icon="trash-o"></ons-icon></ons-button>
            <ons-button class="control-btn close-btn" onclick="mdelete.hide()"><ons-icon icon="times"></ons-icon></ons-button>
        </div>
        
    </ons-modal>
    
    <ons-list class="prodlist">
      <ons-list-item class="thumbnail grocery-listing edit">
            <ons-gesture-detector ng-hold="DoDelete(grocery.prodId, grocery.prodName)" class="wrapper">
            <span class="prodName" ng-class="(grocery.prodPrice>0) ? 'done-true' : ''">ChargerCity Exclusive Apple iPad Mini Google Nexus</span>
            <div class="prodPhoto" style="background-image:url(http://ecx.images-amazon.com/images/I/51qrzVbDVlL._SL160_.jpg);"></div><!--<img ng-src="{{grocery.prodPhoto}}"/>-->
            </ons-gesture-detector>
      </ons-list-item>

    
      <ons-list-item class="thumbnail grocery-listing edit">
            <ons-gesture-detector ng-hold="DoDelete(grocery.prodId, grocery.prodName)" class="wrapper">
            <span class="prodName" ng-class="(grocery.prodPrice>0) ? 'done-true' : ''">Minecraft Redstone Ore by Think Geek</span>
            <div class="prodPhoto" style="background-image:url(http://ecx.images-amazon.com/images/I/413mfEsR-nL._SL160_.jpg);"></div><!--<img ng-src="{{grocery.prodPhoto}}"/>-->
            </ons-gesture-detector>
      </ons-list-item>

    
      <ons-list-item class="thumbnail grocery-listing edit">
            <ons-gesture-detector ng-hold="DoDelete(grocery.prodId, grocery.prodName)" class="wrapper">
            <span class="prodName" ng-class="(grocery.prodPrice>0) ? 'done-true' : ''">Mega Bloks Call of Duty Juggernaut</span>
            <div class="prodPhoto" style="background-image:url(http://ecx.images-amazon.com/images/I/51cPMRalWbL._SL160_.jpg);"></div><!--<img ng-src="{{grocery.prodPhoto}}"/>-->
            </ons-gesture-detector>
      </ons-list-item>

    
      <ons-list-item class="thumbnail grocery-listing edit">
            <ons-gesture-detector ng-hold="DoDelete(grocery.prodId, grocery.prodName)" class="wrapper">
            <span class="prodName" ng-class="(grocery.prodPrice>0) ? 'done-true' : ''">Mega Bloks Call of Duty Zombies Outbreak Collector</span>
            <div class="prodPhoto" style="background-image:url(http://ecx.images-amazon.com/images/I/51OdPFmWg%2BL._SL160_.jpg);"></div><!--<img ng-src="{{grocery.prodPhoto}}"/>-->
            </ons-gesture-detector>
      </ons-list-item>
      <ons-list-item ng-repeat="grocery in groceries" ng-controller="GroceryListing" ng-click="ShowDetails(grocery)" class="thumbnail grocery-listing edit">
            <ons-gesture-detector ng-hold="DoDelete(grocery.prodId, grocery.prodName)" class="wrapper">
            <span class="prodName" ng-class="(grocery.prodPrice>0) ? 'done-true' : ''">{{grocery.prodName}}</span>
            <div class="prodPhoto" style="background-image:url({{grocery.prodPhoto}});"></div><!--<img ng-src="{{grocery.prodPhoto}}"/>-->
            </ons-gesture-detector>
      </ons-list-item>
    </ons-list>
    
    <div class="help hlist" ng-if="showHelp">
        <div class="toolbar">
            Add some items to your list. Then share it with family and friends.
        </div>
        <div class="footbar">
            Add items to your list by scanning a UPC barcode or taking a photograph. Long-press an item to remove it from your list.
        </div>
    </div>
    
    <form class="foot_ctrl">
        <h3>Add Item</h3>
        <ons-button class="capture-btn" ng-click="ScanBarcode()" should-spin="{{scanStatus}}" disabled="{{scanStatus}}" animation="zoom-in"><span class="fa fa-barcode fa-lg"></span>Barcode</ons-button>
        <ons-button class="capture-btn" ng-click="TestPhoto()" disabled="{{scanStatus}}"><span class="fa fa-camera fa-lg"></span>Photo</ons-button>
    </form>

</ons-page>